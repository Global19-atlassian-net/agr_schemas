{
  "$schema" : "http://json-schema.org/draft-04/schema#",
  "title" : "Disease Annotation",
  "description" : "An entry with disease/object associations",
  "id" : "diseaseAnnotation.json#",
  "type" : "object",
  "required" : [ "objectId", "DOid", "taxonId", "objectType","dataProvider","dateAssigned" ],
  "additionalProperties": false,
  "properties" : {
    "objectId" : {
      "type" : "string",
      "description" : "The ID to which the disease ontology term is applied. #TODO fold this into objectRelation and reference basicGeneInformation.json"
    },
    "objectRelation" : [ 
       {
         "title" : "Genotype",
         "type": "Object",
         "properties": {
           "associationType": { "enum": ["is_model_of"], "required":"true"},         
           "description": "is_model_of can only be applied when objectType is GENO/organism",
           "objectType": { "enum":["genotype","fish"], "required":"true"}
         }
       },
       {
         "title" : "All other genetic objectIds",
          "type": "Object",
           "properties": {
              "associationType": { "enum": ["causes_or_contributes_to_condition","causes_condition","contributes_to_condition","is_marker_for"], "required":"true"},
           "description": "is_model_of can only be applied when objectType is genotype or organism level annotation, other conditions can use one of the following relationship types to describe the association.",
           "objectType": { "enum":["allele","gene","marker"] }
            }
       }],
       "inferredGeneAssociation": {
                "type":"array",
                "items": {
                    "$ref": "../basicGeneInformation.json#/properties/primaryId",
                    "description":"list of inferred gene/marker association that can be made based on the DB object ID"
                }
        },
     "qualifier":{
        "enum":["not"],
        "description": "The qualifier for the annotation"
     },
     "with":{
        "type":"array",
        "items": {
                 "type":"string",
                 "description": "db identifiers related to the annotation object via the 'with' relationship."
        },
        "uniqueItems": true
     },
     "experimentalConditions": {
        "type": "array",
        "items": {
          "$ref": "experimentalConditions.json#/properties/experimentalCondition",
          "description":"list of experimental conditions applied to the db object, which together produce the disease association."
        }
     },
     "taxonId": {
       "$ref": "../species.json#/properties/taxonId"
     },
     "DOid" : {
       "type" : "string",
       "description" : "The disease ontology term id."
     },
     "dataProvider" : {
       "$ref": "../dataProvider.json#/properties/dataProvider",
       "description": "Constrains the dataProvider to conform to the dataProvider schema.  This schema enforces that a dataProvider provide the taxonId of the record being added, as well as the database source.  see dataProvider.json for more information."
     },
     "evidence" : {
       "type" : "array",
       "items" : {
         "$ref" : "evidence.json#/properites/evidence"
       }
    },
    "geneticSex": {
      "enum":["male","female","hermaphrodite"],
      "description":"The genetic sex of the organism in the disease association"
    },
    "dateAssigned": {
       "type": "string",
       "format": "date-time",
       "description": "Date this entity was assigned in it's primary data source."
    },
    "modifier" : {
        "$ref": "modifer.json#/properties/modifier",
        "definition": ""
    }
  }
}
